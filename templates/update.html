<!DOCTYPE html>
<html>
<head>
    <title>Puppy Weights</title>
    <link rel="stylesheet" href="../static/css/styles.css">
</head>
<body>
    <div class="title">
        <h1>Puppy Weights</h1>
    </div>
    <div class="container">
        <form id="weightForm" method="POST" action="{{ url_for('new_weight_page') }}">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>New Weight (g)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for name, weight in latest_data %}
                    <tr>
                        <td>{{ name }}</td>
                        <td><input type="number" name="weights[]" required></td> <!-- Input field for new weight -->
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <div class="title">
                <!-- Use type="button" to prevent default form submission -->
                <button type="button" class="btn" style="font-size: 25px;" onclick="validateAndSubmitForm()">Submit</button>
            </div>
        </form>
        <div class="title">
            <a href="{{ url_for('index') }}" class="back-btn">Back</a>
        </div>
    </div>

    <script>
        // Function to handle form submission
        function validateAndSubmitForm() {
            var userInput = prompt("Enter pin to submit weights:");

            // Check if user input is '1'
            if (userInput == '1') {
                document.getElementById('weightForm').submit(); // Submit the form
            } else {
                alert("You entered an invalid pin.");
            }
        }
    </script>
</body>
</html>
